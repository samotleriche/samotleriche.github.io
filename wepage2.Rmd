---
title: "Nasa Data"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



```{r echo = FALSE, include=FALSE}
if (!require("harrypotter")) install.packages("harrypotter")
library(harrypotter)
if (!require("tidytext")) install.packages("tidytext")
library(tidytext)
if (!require("tidytext")) install.packages("tidytext")
library(shiny)
if (!require("shinydashboard")) install.packages("shinydashboard")
require(shinydashboard)
if (!require("ggplot2")) install.packages("ggplot2")
library(ggplot2)
if (!require("dplyr")) install.packages("dplyr")
library(dplyr)
if (!require("shiny")) install.packages("shiny")
library(shiny)

```

## Including Plots

```{r echo = FALSE}

get_sentiments("afinn")


```

```{r, include=FALSE}
titles <- c("Philosopher's Stone", "Chamber of Secrets", "Prisoner of Azkaban",
            "Goblet of Fire", "Order of the Phoenix", "Half-Blood Prince",
            "Deathly Hallows")

books <- list(philosophers_stone, chamber_of_secrets, prisoner_of_azkaban,
           goblet_of_fire, order_of_the_phoenix, half_blood_prince,
           deathly_hallows)
  
series <- tibble()

for(i in seq_along(titles)) {
        
        clean <- tibble(chapter = seq_along(books[[i]]),
                        text = books[[i]]) %>%
             unnest_tokens(word, text) %>%
             mutate(book = titles[i]) %>%
             select(book, everything())

        series <- rbind(series, clean)
}

# set factor to keep books in order of publication
series$book <- factor(series$book, levels = rev(titles))

series
```

